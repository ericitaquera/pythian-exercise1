provider "aws" {
	access_key = "${var.access_key}"
	secret_key = "${var.secret_key}"
	region = "us-east-2"

}

resource "aws_instance" "example" {
	ami = "ami-10547475"
	instance_type = "t2.micro"
	subnet_id = "subnet-15dcf37c"
	vpc_security_group_ids = ["sg-b4b378dc"]
	key_name = "groo-us-east-2"
	user_data = "${file("user_data.sh")}"
	tags {
		Name = "grooUbuntuWP2-AZ1"
	}
}

resource "aws_vpc" "example" {
	id = "${var.vpc_id}"
	cidr_block = "10.0.0.0/20"
}

resource "aws_subnet" "example" {
	vpc_id            = "${data.aws_vpc.selected.id}"
	availability_zone = "us-west-2a"
	cidr_block        = "${cidrsubnet(data.aws_vpc.selected.cidr_block, 4, 1)}"
}
